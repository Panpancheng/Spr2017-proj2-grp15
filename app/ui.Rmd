---
title: "R Notebook"
output: html_notebook
---
```{r}
library(shiny)
library(ggplot2)

ui <- fluidPage(
  title = 'Compare Data for Multiple Schools',
  sidebarLayout(
    sidebarPanel(
      conditionalPanel(
        'input.dataset == "t.schools2014"',
        checkboxGroupInput('show_schools', 'Schools to compare:',
                           colnames(t.schools2014), selected = colnames(t.schools2014))
      )
    ),
    mainPanel(
      tabsetPanel(
        id = 'Schools',
        tabPanel('Top 30 Schools', DT::dataTableOutput('mytable'),
                 plotOutput('barchart'))
      )
    )
  )
)

server <- function(input, output) {
 
  # choose columns to display
  school <- t.schools2014
  output$mytable <- DT::renderDataTable({
    DT::datatable(school[, input$show_schools], options = list(pageLength = 25))
  })
  
  output$barchart = renderPlot({
    s = input$mytable_rows_selected
    barplot(s)
  })
}

shinyApp(ui = ui, server = server)
```